
// Code generated by @open-rpc/generator DO NOT EDIT.
import { RequestManager, PostMessageWindowTransport, PostMessageIframeTransport, WebSocketTransport, HTTPTransport, Client, JSONRPCError } from "@open-rpc/client-js";
import _ from "lodash";
import { OpenrpcDocument as OpenRPC, MethodObject, ContentDescriptorObject } from "@open-rpc/meta-schema";
import { MethodCallValidator, MethodNotFoundError } from "@open-rpc/schema-utils-js";

export type UserName = string;
export type Password = string;
export type JwToken = string;
export type WalletName = string;
export type SeedPhrase = string;
export type WalletPassPhrase = string;
export type WalletType = "general" | "printer";
export type WalletID = string;
export type AccountName = string;
export type Utxos = string;
export type Assets = string;
export type Metadata = string;
export type Outputs = string;
export type ChangeAddress = string;
export type TxTTL = number;
export type Configjson = string;
export type Gcode = string;
export type FileURL = string;
export type FileName = string;
export type UpdateType = "full" | "update" | "ui";
export type Hostname = string;
export type WifiAction = string;
export type Ssid = string;
export type SsidPass = string;
export type SslCommonName = string;
export type SslCountry = string;
export type SslLocation = string;
export type SslOrg = string;
export type ShipengineAPI = string;
export type CarrierIDs = any[];
export type FromCountryCode = string;
export type FromPostalCode = string;
export type ToCountryCode = string;
export type ToPostalCode = string;
export type WeightUnits = string;
export type WeightAmount = string;
export type StringDoaGddGA = string;
/**
 *
 * Generated! Represents an alias to any of the provided schemas
 *
 */
export type AnyOfUserNamePasswordUserNamePasswordJwTokenUserNameWalletNameSeedPhraseWalletPassPhraseWalletTypeJwTokenUserNameWalletIDAccountNameWalletPassPhraseJwTokenUserNameWalletNameSeedPhraseWalletPassPhraseWalletTypeJwTokenUserNameWalletIDJwTokenUserNameWalletIDAccountNameJwTokenUserNameWalletIDWalletPassPhraseAccountNameUtxosAssetsMetadataOutputsChangeAddressTxTTLJwTokenUserNameConfigjsonJwTokenUserNameGcodeJwTokenUserNameFileURLFileNameJwTokenUserNameUpdateTypeJwTokenUserNameHostnameJwTokenUserNameWifiActionSsidSsidPassJwTokenUserNameSslCommonNameSslCountrySslLocationSslOrgJwTokenUserNameShipengineAPICarrierIDsFromCountryCodeFromPostalCodeToCountryCodeToPostalCodeWeightUnitsWeightAmountStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGAStringDoaGddGA = UserName | Password | JwToken | WalletName | SeedPhrase | WalletPassPhrase | WalletType | WalletID | AccountName | Utxos | Assets | Metadata | Outputs | ChangeAddress | TxTTL | Configjson | Gcode | FileURL | FileName | UpdateType | Hostname | WifiAction | Ssid | SsidPass | SslCommonName | SslCountry | SslLocation | SslOrg | ShipengineAPI | CarrierIDs | FromCountryCode | FromPostalCode | ToCountryCode | ToPostalCode | WeightUnits | WeightAmount | StringDoaGddGA;
export type InitDevice = () => Promise<StringDoaGddGA>;
export type CreateUser = (userName: UserName, password: Password) => Promise<StringDoaGddGA>;
export type LoginUser = (userName: UserName, password: Password) => Promise<StringDoaGddGA>;
export type ResetUser = () => Promise<StringDoaGddGA>;
export type GenCBWallet = (jwToken: JwToken, userName: UserName, walletName: WalletName, seedPhrase: SeedPhrase, walletPassPhrase: WalletPassPhrase, walletType: WalletType) => Promise<StringDoaGddGA>;
export type GenCBWalletAccount = (jwToken: JwToken, userName: UserName, walletID: WalletID, accountName: AccountName, walletPassPhrase: WalletPassPhrase) => Promise<StringDoaGddGA>;
export type GenPrinterWallet = (jwToken: JwToken, userName: UserName, walletName: WalletName, seedPhrase: SeedPhrase, walletPassPhrase: WalletPassPhrase, walletType: WalletType) => Promise<StringDoaGddGA>;
export type GetCBWallets = (jwToken: JwToken, userName: UserName, walletID: WalletID) => Promise<StringDoaGddGA>;
export type DelCBWallet = (jwToken: JwToken, userName: UserName, walletID: WalletID, accountName: AccountName) => Promise<StringDoaGddGA>;
export type GenGruntTX = (jwToken: JwToken, userName: UserName, walletID: WalletID, walletPassPhrase: WalletPassPhrase, accountName: AccountName, utxos: Utxos, assets: Assets, metadata: Metadata, outputs: Outputs, changeAddress: ChangeAddress, txTTL: TxTTL) => Promise<StringDoaGddGA>;
export type EditConfig = (jwToken: JwToken, userName: UserName, configjson: Configjson) => Promise<StringDoaGddGA>;
export type SendCmdToPrinter = (jwToken: JwToken, userName: UserName, gcode: Gcode) => Promise<StringDoaGddGA>;
export type DownloadFile = (jwToken: JwToken, userName: UserName, fileURL: FileURL, fileName: FileName) => Promise<StringDoaGddGA>;
export type Update = (jwToken: JwToken, userName: UserName, updateType: UpdateType) => Promise<StringDoaGddGA>;
export type ChangeDeviceName = (jwToken: JwToken, userName: UserName, hostname: Hostname) => Promise<StringDoaGddGA>;
export type ManageWifi = (jwToken: JwToken, userName: UserName, wifiAction: WifiAction, ssid: Ssid, ssidPass: SsidPass) => Promise<StringDoaGddGA>;
export type GenSSL = (jwToken: JwToken, userName: UserName, sslCommonName: SslCommonName, sslCountry: SslCountry, sslLocation: SslLocation, sslOrg: SslOrg) => Promise<StringDoaGddGA>;
export type EstimateShipping = (jwToken: JwToken, userName: UserName, shipengineAPI: ShipengineAPI, carrierIDs: CarrierIDs, fromCountryCode: FromCountryCode, fromPostalCode: FromPostalCode, toCountryCode: ToCountryCode, toPostalCode: ToPostalCode, weightUnits: WeightUnits, weightAmount: WeightAmount) => Promise<StringDoaGddGA>;

export interface Options {
  transport: {
    type: "websocket" | "http" | "https" | "postmessagewindow" | "postmessageiframe";
    host: string;
    port: number;
    path?: string;
    protocol?: string;
  },
}

export class Spaceprinter {
  public rpc: Client;
  public static openrpcDocument: OpenRPC = {"openrpc":"1.2.6","info":{"title":"spaceprinter","version":"0.7.0-beta","description":"Space Printer: dapp for raspberry to allow your 3D printer to access Adosia market place on cardano"},"methods":[{"name":"initDevice","description":"Checks devie config for nodes running an dserives running and enables them","params":[],"result":{"name":"initDeviceResult","description":"Returns Cardano and Printer Info","schema":{"type":"string"}}},{"name":"createUser","description":"Creates user for Cardano Box","params":[{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"password","description":"Cardano Box user password","required":true,"schema":{"title":"password","type":"string"}}],"result":{"name":"createUserRes","description":"Returns query response","schema":{"type":"string"}}},{"name":"loginUser","description":"Logs user in and generate JWT token","params":[{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"password","description":"Cardano Box user password","required":true,"schema":{"title":"password","type":"string"}}],"result":{"name":"loginUserRes","description":"Returns query response","schema":{"type":"string"}}},{"name":"resetUser","description":"This should be used as a last result when user forgets their password to Cardano Box.","params":[],"result":{"name":"resetUserRes","description":"Returns query response","schema":{"type":"string"}}},{"name":"genCBWallet","description":"Creates cardanobox wallet","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"walletName","description":"Unique User wallet name","required":true,"schema":{"title":"walletName","type":"string"}},{"name":"seedPhrase","description":"Seed Phrase used to recover address","required":true,"schema":{"title":"seedPhrase","type":"string"}},{"name":"walletPassPhrase","description":"Secret Passphrase for wallet to unlock for TXs","required":true,"schema":{"title":"walletPassPhrase","type":"string"}},{"name":"walletType","description":"Type of wallet, space printer or gen cardano","required":true,"schema":{"title":"walletType","type":"string","enum":["general","printer"]}}],"result":{"name":"genCBWalletResult","description":"Returns wallet info and seed phrase if one was generated","schema":{"type":"string"}}},{"name":"genCBWalletAccount","description":"Creates a new account on same seed and creates a new address for it.","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"walletID","description":"Wallet ID","required":true,"schema":{"title":"walletID","type":"string"}},{"name":"accountName","description":"Name for wallet account","required":true,"schema":{"title":"accountName","type":"string"}},{"name":"walletPassPhrase","description":"Secret Passphrase for wallet to unlock for TXs","required":true,"schema":{"title":"walletPassPhrase","type":"string"}}],"result":{"name":"genCBWalletAccountResult","description":"Returns generated address","schema":{"type":"string"}}},{"name":"genPrinterWallet","description":"Creates Space Printer wallet","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"walletName","description":"Unique User wallet name","required":true,"schema":{"title":"walletName","type":"string"}},{"name":"seedPhrase","description":"Seed Phrase used to recover address","required":true,"schema":{"title":"seedPhrase","type":"string"}},{"name":"walletPassPhrase","description":"Secret Passphrase for wallet to unlock for TXs","required":true,"schema":{"title":"walletPassPhrase","type":"string"}},{"name":"walletType","description":"Type of wallet, space printer or gen cardano","required":true,"schema":{"title":"walletType","type":"string","enum":["general","printer"]}}],"result":{"name":"genPrinterWalletResult","description":"Returns wallet info and seed phrase if one was generated","schema":{"type":"string"}}},{"name":"getCBWallets","description":"querries cardanobox db for wallets","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"walletID","description":"Wallet ID","required":true,"schema":{"title":"walletID","type":"string"}}],"result":{"name":"getCBWalletsResult","description":"Returns array of objects of wallet exits","schema":{"type":"string"}}},{"name":"delCBWallet","description":"Deletes cardano box wallet","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"walletID","description":"Wallet ID","required":true,"schema":{"title":"walletID","type":"string"}},{"name":"accountName","description":"Name for wallet account","required":true,"schema":{"title":"accountName","type":"string"}}],"result":{"name":"delCBWalletResult","description":"Returns status of deletion","schema":{"type":"string"}}},{"name":"genGruntTX","description":"","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"walletID","description":"Wallet ID","required":true,"schema":{"title":"walletID","type":"string"}},{"name":"walletPassPhrase","description":"Secret Passphrase for wallet to unlock for TXs","required":true,"schema":{"title":"walletPassPhrase","type":"string"}},{"name":"accountName","description":"Name for wallet account","required":true,"schema":{"title":"accountName","type":"string"}},{"name":"utxos","description":"Stringified array of utxo objects [{ txix: string, txIndex: number, inputValue: string }]","required":true,"schema":{"title":"utxos","type":"string"}},{"name":"assets","description":"Stringified array of asset objects [{ policyID: string, assetName: string, assetAmount: string }] ","required":true,"schema":{"title":"assets","type":"string"}},{"name":"metadata","description":"Stringified array of metadata objects [{ label: string, metadata: stringified object }] ","required":true,"schema":{"title":"metadata","type":"string"}},{"name":"outputs","description":"Stringified array output addresses and values and datum info. [{ outputAddress: string, outputValue: string, datums: [{ datumType: byte|int, datumValue: string, byteType: hex|utf8 }] }] ","required":true,"schema":{"title":"outputs","type":"string"}},{"name":"changeAddress","description":"Address that will receive left over fee change","required":true,"schema":{"title":"changeAddress","type":"string"}},{"name":"txTTL","description":"Address that will receive left over fee change","required":true,"schema":{"title":"txTTL","type":"number"}}],"result":{"name":"genGruntTXResult","description":"Returns signed TX cbor and submits if elected to.","schema":{"type":"string"}}},{"name":"editConfig","description":"Edits dapp config","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"configjson","description":"json string of config","required":true,"schema":{"title":"configjson","type":"string"}}],"result":{"name":"editConfigResult","description":"returns config status","schema":{"type":"string"}}},{"name":"sendCmdToPrinter","description":"sends gcode command to connacted printer.","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"gcode","description":"name of file for saving or whatever else. ","required":true,"schema":{"title":"gcode","type":"string"}}],"result":{"name":"sendCmdToPrinterResult","description":"Returns printer response","schema":{"type":"string"}}},{"name":"downloadFile","description":"Downlaods 3D file to device for slicing and printing.","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"fileURL","description":"location of file to download","required":true,"schema":{"title":"fileURL","type":"string"}},{"name":"fileName","description":"name of file for saving or whatever else.","required":true,"schema":{"title":"fileName","type":"string"}}],"result":{"name":"downloadFileResult","description":"Returns download status","schema":{"type":"string"}}},{"name":"update","description":"Updates spaceprinter software.","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"updateType","description":"Update type: full, incremental.","required":true,"schema":{"title":"updateType","type":"string","enum":["full","update","ui"]}}],"result":{"name":"updateResult","description":"Returns update status","schema":{"type":"string"}}},{"name":"changeDeviceName","description":"Changes devices hostname and updates it.","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"hostname","description":"device hostname ","required":true,"schema":{"title":"hostname","type":"string"}}],"result":{"name":"changeDeviceNameResult","description":"Returns updated hostname status","schema":{"type":"string"}}},{"name":"manageWifi","description":"Changes devices hostname and updates it.","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"wifiAction","description":"scan/connect/disconnect","required":true,"schema":{"title":"wifiAction","type":"string"}},{"name":"ssid","description":"Name of SSID connecting to.","required":true,"schema":{"title":"ssid","type":"string"}},{"name":"ssidPass","description":"Password of ssid attemtion conneciton to.","required":true,"schema":{"title":"ssidPass","type":"string"}}],"result":{"name":"manageWifiResult","description":"Returns action results for wifi","schema":{"type":"string"}}},{"name":"genSSL","description":"Generate new ssl cert.","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"sslCommonName","description":"Common name for ssl cert or fqdn eg: spaceprinter.local.","required":true,"schema":{"title":"sslCommonName","type":"string"}},{"name":"sslCountry","description":"SSL Country two letter eg: US.","required":true,"schema":{"title":"sslCountry","type":"string"}},{"name":"sslLocation","description":"SSL location eg: The underground.","required":true,"schema":{"title":"sslLocation","type":"string"}},{"name":"sslOrg","description":"SSL organication Name eg: The House of Printers.","required":true,"schema":{"title":"sslOrg","type":"string"}}],"result":{"name":"manageWifiResult","description":"Returns action results for wifi","schema":{"type":"string"}}},{"name":"estimateShipping","description":"Useshipping Engine to estimate shipping","params":[{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},{"name":"shipengineAPI","description":"","required":true,"schema":{"title":"shipengineAPI","type":"string"}},{"name":"carrierIDs","description":"","required":true,"schema":{"title":"carrierIDs","type":"array"}},{"name":"fromCountryCode","description":"Two letter ISO from shipping from Country","required":true,"schema":{"title":"fromCountryCode","type":"string"}},{"name":"fromPostalCode","description":"","required":true,"schema":{"title":"fromPostalCode","type":"string"}},{"name":"toCountryCode","description":"","required":true,"schema":{"title":"toCountryCode","type":"string"}},{"name":"toPostalCode","description":"","required":true,"schema":{"title":"toPostalCode","type":"string"}},{"name":"weightUnits","description":"","required":true,"schema":{"title":"weightUnits","type":"string"}},{"name":"weightAmount","description":"","required":true,"schema":{"title":"weightAmount","type":"string"}}],"result":{"name":"estimateShippingResult","description":"returns estimate shipping.","schema":{"type":"string"}}}],"components":{"contentDescriptors":{"userName":{"name":"userName","description":"Cardano Box Username","required":true,"schema":{"title":"userName","type":"string"}},"password":{"name":"password","description":"Cardano Box user password","required":true,"schema":{"title":"password","type":"string"}},"jwToken":{"name":"jwToken","description":"Token created on login","required":true,"schema":{"title":"jwToken","type":"string"}},"accountType":{"name":"accountType","description":"Not used for anyhting yet","required":true,"schema":{"title":"accountType","type":"string"}},"sessionType":{"name":"sessionType","description":"Not used for anyhting yet","required":true,"schema":{"title":"sessionType","type":"string","enum":["cardanobox","remote","blockfrost"]}},"adaAddress":{"name":"adaAddress","description":"unique device ada Address","required":true,"schema":{"title":"adaAddress","type":"string"}},"seedSize":{"name":"seedSize","description":"9, 12, 15, 18, 21 or 24 words","required":true,"schema":{"title":"seedSize","type":"number","enum":[0,9,12,15,18,21,24]}},"seedPhrase":{"name":"seedPhrase","description":"Seed Phrase used to recover address","required":true,"schema":{"title":"seedPhrase","type":"string"}},"walletName":{"name":"walletName","description":"Unique User wallet name","required":true,"schema":{"title":"walletName","type":"string"}},"xpubKey":{"name":"xpubKey","description":"An extended account public key","required":true,"schema":{"title":"xpubKey","type":"string"}},"walletPassPhrase":{"name":"walletPassPhrase","description":"Secret Passphrase for wallet to unlock for TXs","required":true,"schema":{"title":"walletPassPhrase","type":"string"}},"walletType":{"name":"walletType","description":"Type of wallet, space printer or gen cardano","required":true,"schema":{"title":"walletType","type":"string","enum":["general","printer"]}},"walletID":{"name":"walletID","description":"Wallet ID","required":true,"schema":{"title":"walletID","type":"string"}},"addressType":{"name":"addressType","description":"Type of address being generated","required":true,"schema":{"title":"addressType","type":"string","enum":["base","enterprise","pointer","reward","byron"]}},"addressName":{"name":"addressName","description":"Name for address","required":true,"schema":{"title":"addressName","type":"string"}},"accountName":{"name":"accountName","description":"Name for wallet account","required":true,"schema":{"title":"accountName","type":"string"}},"configjson":{"name":"configjson","description":"json string of config","required":true,"schema":{"title":"configjson","type":"string"}},"fileURL":{"name":"fileURL","description":"location of file to download","required":true,"schema":{"title":"fileURL","type":"string"}},"fileName":{"name":"fileName","description":"name of file for saving or whatever else.","required":true,"schema":{"title":"fileName","type":"string"}},"gcode":{"name":"gcode","description":"name of file for saving or whatever else. ","required":true,"schema":{"title":"gcode","type":"string"}},"updateType":{"name":"updateType","description":"Update type: full, incremental.","required":true,"schema":{"title":"updateType","type":"string","enum":["full","update","ui"]}},"txix":{"name":"txix","description":"txix for TX input","required":true,"schema":{"title":"txix","type":"string"}},"txixIndex":{"name":"txixIndex","description":"txix index","required":true,"schema":{"title":"txixIndex","type":"number"}},"inputValue":{"name":"inputValue","description":"input value or amount if lovelace your subtracting for the input txix","required":true,"schema":{"title":"inputValue","type":"string"}},"outputAddress":{"name":"outputAddress","description":"usually address receiving asset or lovelace","required":true,"schema":{"title":"outputAddress","type":"string"}},"outputValue":{"name":"outputValue","description":"amount of asset or lovelace associated with outputAddress","required":true,"schema":{"title":"outputValue","type":"string"}},"changeAddress":{"name":"changeAddress","description":"Address that will receive left over fee change","required":true,"schema":{"title":"changeAddress","type":"string"}},"txTTL":{"name":"txTTL","description":"Address that will receive left over fee change","required":true,"schema":{"title":"txTTL","type":"number"}},"utxos":{"name":"utxos","description":"Stringified array of utxo objects [{ txix: string, txIndex: number, inputValue: string }]","required":true,"schema":{"title":"utxos","type":"string"}},"outputs":{"name":"outputs","description":"Stringified array output addresses and values and datum info. [{ outputAddress: string, outputValue: string, datums: [{ datumType: byte|int, datumValue: string, byteType: hex|utf8 }] }] ","required":true,"schema":{"title":"outputs","type":"string"}},"assets":{"name":"assets","description":"Stringified array of asset objects [{ policyID: string, assetName: string, assetAmount: string }] ","required":true,"schema":{"title":"assets","type":"string"}},"metadata":{"name":"metadata","description":"Stringified array of metadata objects [{ label: string, metadata: stringified object }] ","required":true,"schema":{"title":"metadata","type":"string"}},"hostname":{"name":"hostname","description":"device hostname ","required":true,"schema":{"title":"hostname","type":"string"}},"wifiAction":{"name":"wifiAction","description":"scan/connect/disconnect","required":true,"schema":{"title":"wifiAction","type":"string"}},"ssid":{"name":"ssid","description":"Name of SSID connecting to.","required":true,"schema":{"title":"ssid","type":"string"}},"ssidPass":{"name":"ssidPass","description":"Password of ssid attemtion conneciton to.","required":true,"schema":{"title":"ssidPass","type":"string"}},"sslCommonName":{"name":"sslCommonName","description":"Common name for ssl cert or fqdn eg: spaceprinter.local.","required":true,"schema":{"title":"sslCommonName","type":"string"}},"sslCountry":{"name":"sslCountry","description":"SSL Country two letter eg: US.","required":true,"schema":{"title":"sslCountry","type":"string"}},"sslLocation":{"name":"sslLocation","description":"SSL location eg: The underground.","required":true,"schema":{"title":"sslLocation","type":"string"}},"sslOrg":{"name":"sslOrg","description":"SSL organication Name eg: The House of Printers.","required":true,"schema":{"title":"sslOrg","type":"string"}},"fromCountryCode":{"name":"fromCountryCode","description":"Two letter ISO from shipping from Country","required":true,"schema":{"title":"fromCountryCode","type":"string"}},"fromPostalCode":{"name":"fromPostalCode","description":"","required":true,"schema":{"title":"fromPostalCode","type":"string"}},"toCountryCode":{"name":"toCountryCode","description":"","required":true,"schema":{"title":"toCountryCode","type":"string"}},"toPostalCode":{"name":"toPostalCode","description":"","required":true,"schema":{"title":"toPostalCode","type":"string"}},"carrierIDs":{"name":"carrierIDs","description":"","required":true,"schema":{"title":"carrierIDs","type":"array"}},"weightUnits":{"name":"weightUnits","description":"","required":true,"schema":{"title":"weightUnits","type":"string"}},"weightAmount":{"name":"weightAmount","description":"","required":true,"schema":{"title":"weightAmount","type":"string"}},"shipengineAPI":{"name":"shipengineAPI","description":"","required":true,"schema":{"title":"shipengineAPI","type":"string"}}}}} ;
  public transport: HTTPTransport | WebSocketTransport | PostMessageWindowTransport | PostMessageIframeTransport;
  private validator: MethodCallValidator;
  private timeout: number | undefined;

  constructor(options: Options) {

    if (options.transport === undefined || options.transport.type === undefined) {
      throw new Error("Invalid constructor params");
    }
    const {type, host, port, protocol} = options.transport;
    let path = options.transport.path || "";
    if(path && path[0] !== "/") {
        path = "/" + path;
    }
    switch (type) {
      case 'http':
      case 'https':
        this.transport = new HTTPTransport((protocol || type) + "://" + host + ":" + port + path);
        break;
      case 'websocket':
        this.transport = new WebSocketTransport((protocol || "ws://") + host + ":" + port + path);
        break;
      case 'postmessageiframe':
        this.transport = new PostMessageIframeTransport(protocol + "://" + host + ":" + port + path);
        break;
      case 'postmessagewindow':
        this.transport = new PostMessageWindowTransport(protocol + "://" + host + ":" + port + path);
        break;
      default:
        throw new Error("unsupported transport");
        break;
    }
    this.rpc = new Client(new RequestManager([this.transport]));
    this.validator = new MethodCallValidator(Spaceprinter.openrpcDocument);
  }
  /**
   * Adds a JSONRPC notification handler to handle receiving notifications.
   * @example
   * myClient.onNotification((data)=>console.log(data));
   */
  public onNotification(callback: (data: any) => void) {
    this.rpc.onNotification(callback);
  }

  /**
   * Adds an optional JSONRPCError handler to handle receiving errors that cannot be resolved to a specific request
   * @example
   * myClient.onError((err: JSONRPCError)=>console.log(err.message));
   */
  public onError(callback: (data: JSONRPCError) => void) {
     this.rpc.onError(callback);
  }

  /**
   * Sets a default timeout in ms for all requests excluding notifications.
   * @example
   * // 20s timeout
   * myClient.setDefaultTimeout(20000);
   * // Removes timeout from request
   * myClient.setDefaultTimeout(undefined);
   */
   public setDefaultTimeout(ms?: number) {
    this.timeout = ms;
  }

  /**
   * Initiates [[Spaceprinter.startBatch]] in order to build a batch call.
   *
   * Subsequent calls to [[Spaceprinter.request]] will be added to the batch.
   * Once [[Spaceprinter.stopBatch]] is called, the promises for the [[Spaceprinter.request]]
   * will then be resolved.  If there is already a batch in progress this method is a noop.
   *
   * @example
   * myClient.startBatch();
   * myClient.foo().then(() => console.log("foobar"))
   * myClient.bar().then(() => console.log("foobarbaz"))
   * myClient.stopBatch();
   */
  public startBatch(): void {
    return this.rpc.startBatch();
  }

  /**
   * Initiates [[Client.stopBatch]] in order to finalize and send the batch to the underlying transport.
   *
   * stopBatch will send the [[Spaceprinter]] calls made since the last [[Spaceprinter.startBatch]] call. For
   * that reason, [[Spaceprinter.startBatch]] MUST be called before [[Spaceprinter.stopBatch]].
   *
   * @example
   * myClient.startBatch();
   * myClient.foo().then(() => console.log("foobar"))
   * myClient.bar().then(() => console.log("foobarbaz"))
   * myClient.stopBatch();
   */
  public stopBatch(): void {
    return this.rpc.stopBatch();
  }

  private request(methodName: string, params: any[]): Promise<any> {
    const methodObject = _.find((Spaceprinter.openrpcDocument.methods as MethodObject[]), ({name}) => name === methodName) as MethodObject;
    const notification = methodObject.result ? false : true;
    const openRpcMethodValidationErrors = this.validator.validate(methodName, params);
    if ( openRpcMethodValidationErrors instanceof MethodNotFoundError || openRpcMethodValidationErrors.length > 0) {
      return Promise.reject(openRpcMethodValidationErrors);
    }

    let rpcParams;
    if (methodObject.paramStructure && methodObject.paramStructure === "by-name") {
      rpcParams = _.zipObject(_.map(methodObject.params, "name"), params);
    } else {
      rpcParams = params;
    }
    if (notification) {
      return this.rpc.notify({method: methodName, params: rpcParams});
    }
    return this.rpc.request({method: methodName, params: rpcParams}, this.timeout);
  }

  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public initDevice: InitDevice = (...params) => {
    return this.request("initDevice", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public createUser: CreateUser = (...params) => {
    return this.request("createUser", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public loginUser: LoginUser = (...params) => {
    return this.request("loginUser", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public resetUser: ResetUser = (...params) => {
    return this.request("resetUser", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public genCBWallet: GenCBWallet = (...params) => {
    return this.request("genCBWallet", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public genCBWalletAccount: GenCBWalletAccount = (...params) => {
    return this.request("genCBWalletAccount", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public genPrinterWallet: GenPrinterWallet = (...params) => {
    return this.request("genPrinterWallet", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public getCBWallets: GetCBWallets = (...params) => {
    return this.request("getCBWallets", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public delCBWallet: DelCBWallet = (...params) => {
    return this.request("delCBWallet", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public genGruntTX: GenGruntTX = (...params) => {
    return this.request("genGruntTX", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public editConfig: EditConfig = (...params) => {
    return this.request("editConfig", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public sendCmdToPrinter: SendCmdToPrinter = (...params) => {
    return this.request("sendCmdToPrinter", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public downloadFile: DownloadFile = (...params) => {
    return this.request("downloadFile", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public update: Update = (...params) => {
    return this.request("update", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public changeDeviceName: ChangeDeviceName = (...params) => {
    return this.request("changeDeviceName", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public manageWifi: ManageWifi = (...params) => {
    return this.request("manageWifi", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public genSSL: GenSSL = (...params) => {
    return this.request("genSSL", params);
  }
  
  /**
   * 
   */
  // tslint:disable-next-line:max-line-length
  public estimateShipping: EstimateShipping = (...params) => {
    return this.request("estimateShipping", params);
  }
  
}
export default Spaceprinter;
